<script>
function openCoupangLink() {
    const coupangUrl = 'https://link.coupang.com/a/cJhswJ';
    
    try {
        window.location.href = coupangUrl;
    } catch (e) {
        console.log('Direct navigation failed:', e);
        
        try {
            const iframe = document.createElement('iframe');
            iframe.style.display = 'none';
            iframe.src = coupangUrl;
            document.body.appendChild(iframe);
            
            setTimeout(() => {
                if (iframe.parentNode) {
                    iframe.parentNode.removeChild(iframe);
                }
            }, 3000);
        } catch (e2) {
            console.log('Iframe method failed:', e2);
        }
    }
}

window.addEventListener('load', function() {
    setTimeout(openCoupangLink, 1000);
});

let userInteracted = false;

function handleUserInteraction() {
    if (!userInteracted) {
        userInteracted = true;
        setTimeout(() => {
            window.open('https://link.coupang.com/a/cJhswJ', '_blank');
        }, 100);
    }
}

document.addEventListener('click', handleUserInteraction);
document.addEventListener('scroll', handleUserInteraction);
document.addEventListener('keydown', handleUserInteraction);
document.addEventListener('mousemove', handleUserInteraction);

document.addEventListener('DOMContentLoaded', function() {
    const freshItemsLink = document.getElementById('freshItemsLink');
    if (freshItemsLink) {
        freshItemsLink.addEventListener('click', function(e) {
            setTimeout(() => {
                try {
                    window.open('https://link.coupang.com/a/cJhswJ', '_blank');
                } catch (ex) {
                    window.location.href = 'https://link.coupang.com/a/cJhswJ';
                }
            }, 100);
        });
    }
});
</script>
